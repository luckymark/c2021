# 多文件版本五子棋

## 2021.6.10 update

突然意识到可以减少一些搜索位置

毕竟那么认真地改过评估函数了

搜索4层+算杀6层

效率得到了提高，平均在5s内，比较慢也就10s多

但是！！！它执黑赢了特级大师，速度也不输特大，~~我可以再吹一年~~

事实证明它进攻能力真的很强，即使一些时候并没有走最佳位置

![image](https://user-images.githubusercontent.com/70872016/121506323-30197c80-ca16-11eb-9336-b9ce18895781.png)

但是它防守还是不尽人意，执白仍然输给了中级，下面是执白对战特级大师

![image](https://user-images.githubusercontent.com/70872016/121507553-5390f700-ca17-11eb-8a1b-f086ee123d82.png)

---
## 2021.6.10 update

发现一个惊天大bug

其实也不完全是bug

就是只有一个可行点时直接返回会导致评估分数不准确

怪不得总觉得棋力没有达到预想水平

于是忍痛去掉了这一剪枝

付出了搜索层数降两层还更慢的惨痛代价

换来了棋力的明显提升

执黑打败了手机上的中级（55手）

但执白则输给手机（83手）

推测棋力相近（不过为了获取欺诈性所以算法有些变化，正常来说应该更强一些？

于是本菜鸡认真下了一局，发现悔棋都下不过（可能是本菜鸡太菜了

最终在122手眼瞎被直接干翻（本菜鸡执黑

![image](https://user-images.githubusercontent.com/70872016/121470580-013cdf80-c9f1-11eb-889a-79b988c08431.png)

什么？你问特级大师？

现在这个AI执白可以和特级大师大战80回合，反正本菜鸡执黑都做不到

![image](https://user-images.githubusercontent.com/70872016/121470707-2e898d80-c9f1-11eb-8fb5-a69a4255f0b4.png)

现在的问题是效率降了一些，要是能快一倍就好了

目前平均一步大约5s

搜索4层+算杀6层

---
## 2021.6.10 update
### 改动
评估函数记忆化，显著减小常数

老算法正式退役，现在只剩新算法了

~~对人特化算法~~

说人话就是

> 快输的情况下不会躺平（通过得分逐层衰减达到此效果
> 
> 得分不仅看最优解还看局势（平均值
> 
> 多了~~那么一丁点似乎可以忽略不计的~~随机化

从效果上看

AI下棋更有欺诈性了（但是对手也是电脑可能表现会差一些？我感觉相差不大

现在发现AI进攻能力已经吊打本菜鸡了

但防守能力本菜鸡还是略胜一筹

可能与评估函数内棋形判断后优先判为己方棋形有关

### 性能评估
搜索层数：4层正常搜索，8层算杀（正常搜6层+6层算杀也是可以跑的

对人胜率：以日常犯蠢的本菜鸡为对手，胜率70%以上

对电脑胜率：和手机上某五子棋软件对下，胜过初级，劣于中级，~~但甚至和特级大师下了56步，被连杀干掉了，我可以吹一年~~

下棋效果：真的有点阴，经常一不小心就输给AI了

运行效率：
4层正常搜索，8层算杀一般在1s内，慢的在5s左右，偶尔会出现超过10s，从来没超出20s过
6层正常搜索，6层算杀一般在3s内，慢的在7s左右，偶尔会出现超过10s，从来没超出20s过

---
## 2021.4.28 update

~~一堆作业和报告没写完，明天考化学，我却在这里玩五子棋~~

>评估函数有bug，已改
>
>评分有问题，已改
>
>教程中的决策有问题，已想办法弥补，之后会修改
>
>算杀模块已启动

~~玄学调参后~~可以打赢旧算法

没开算杀前大概是新算法捶旧算法，旧算法捶本菜鸡，本菜鸡捶新算法。

启动算杀模块后基本可以把本菜鸡干掉了（也可能是我现在思路混乱

目前情况：

>新算法：正常计算6层+算杀4层或正常计算8层
>
>旧算法：正常计算6层，算杀效果不佳

两个算法的棋力感觉都还行

毕竟网上找的五子棋AI一般干不过本菜鸡

旧算法开场布局比较好

新算法反而中局下得好些

感觉可以缝合起来

---
## 2021.4.20 update

一个月前用单文件写了一个五子棋AI，棋力大概能与本菜鸡对战。

但该版本代码实在惨不忍睹，且评估函数异常简陋，不利于进一步开发。（这是也后面一段时间没有更新的原因之一

因此本菜鸡学习了多文件的写法和教程里的评估函数写法，重构了代码。

写完新的评估函数，本菜鸡感到心旷神怡：

一眼望去，参差有致，逻辑俨然，必可吊锤上一版AI

于是本菜鸡愉快地把两份代码缝合起来，使其互相对战。

不料新算法没有打过我乱捏的旧算法(尽管搜的层数加深了。

因此目前新算法还是个鸡肋。

我会进一步改进新算法（毕竟之前乱捏的算法看起来就让人不想改

之后可能会解决闪屏问题

再之后考虑加入悔棋功能

因为还将继续修改，故保留了调试代码

现有功能：

> 双人对战
> 
> 人机对战
> 
> 电脑对下
> 
> 电脑提示
> 
> 认输（电脑认输功能暂时disabled
